(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{798:function(e,t,n){"use strict";n.r(t);n(28),n(6),n(13),n(42);var l={props:{permissions:{default:null},allowNew:{default:!0},title:{default:"Assignee"},id:{default:null},name:{default:null}},data:function(){return{createDialog:!1,user:{},assignee:{},assignee_search:"",assignees:[],loadingAssignees:!1,show1:!1,registering:!1,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"}]}},watch:{assignee_search:function(e){e&&e.length>2&&this.searchAssignees()}},methods:{addDialog:function(){"Customer"==this.permissions?this.$router.push("/app/customers/editor"):this.createDialog=!0},addUser:function(){var e=this,t=this.user;this.$axios.put("/auth/users",t).then((function(t){e.$toast.success(e.permissions+" Added Successfully!")}))},searchAssignees:function(){var e,t=this;(null===(e=this.assignee_search)||void 0===e?void 0:e.length)<=2||(this.loadingAssignees=!0,this.$axios.get("/auth/users/filter",{params:{name:this.assignee_search,is:this.permissions}}).then((function(e){var n=e.data;n.forEach((function(e){e.user_detail&&(e.name=e.name+" ("+e.user_detail.company_name+")")})),t.assignees=n,t.loadingAssignees=!1}),(function(e){t.loadingAssignees=!1})))}}},o=n(27),r=n(31),c=n.n(r),d=n(555),m=n(494),h=n(211),v=n(177),f=n(579),_=n(506),w=n(552),x=n(210),k=n(752),A=n(511),V=n(493),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.title)+" "),n("v-chip",{staticClass:"font-weight-medium",attrs:{label:""}},[e._v(e._s(e.name||"None"))])],1),e._v(" "),n("div",{staticClass:"d-flex flex-row",attrs:{dense:""}},[n("v-autocomplete",{staticClass:"mr-1",attrs:{dense:"",outlined:"",clearable:"",loading:e.loadingAssignees,"search-input":e.assignee_search,label:"Search "+e.title,"item-text":"name","return-object":"","prepend-inner-icon":"mdi-magnify",items:e.assignees},on:{focus:function(t){return e.searchAssignees()},input:function(t){t&&e.$emit("assignTo",t)},"update:searchInput":function(t){e.assignee_search=t},"update:search-input":function(t){e.assignee_search=t}},scopedSlots:e._u([{key:"item",fn:function(t){var l=t.item;return[n("v-list-item-content",[n("v-list-item-title",[e._v("\n            "+e._s(l.name)+"\n          ")])],1),e._v(" "),n("v-list-item-action",[l.present?n("v-icon",{attrs:{small:"",color:"green"}},[e._v("mdi-circle")]):e._e()],1)]}}])}),e._v(" "),e.allowNew?n("v-btn",{staticClass:"ml-1",on:{click:function(t){return e.addDialog()}}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v("New")],1):e._e()],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"600"},model:{value:e.createDialog,callback:function(t){e.createDialog=t},expression:"createDialog"}},[n("v-card",[n("v-card-title",[e._v("Add New User")]),e._v(" "),n("v-container",[n("v-text-field",{attrs:{"prepend-inner-icon":"mdi-account-outline",outlined:"","validate-on-blur":"",dense:"",rules:[function(e){return!!e||"Full Name is Required"}],label:"Full Name *"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),e._v(" "),n("v-text-field",{attrs:{"prepend-inner-icon":"mdi-email-outline",outlined:"","validate-on-blur":"",dense:"",rules:e.emailRules,label:"E-mail *"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),e._v(" "),n("v-text-field",{attrs:{"prepend-inner-icon":"mdi-lock-outline",outlined:"","validate-on-blur":"",dense:"","append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",label:"Password *",rules:e.passwordRules},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),n("v-text-field",{attrs:{"prepend-inner-icon":"mdi-phone-outline",rules:[function(e){return!!e||"Phone No. is Required"}],outlined:"","validate-on-blur":"",hint:"Enter Phone No. without country code Eg. 8123456789",dense:"",counter:"",maxlength:"10",label:"Phone No. *"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}}),e._v(" "),n("v-btn",{attrs:{color:"primary",type:"submit",block:"",loading:e.registering},on:{click:function(t){return e.addUser()}}},[e._v("Register Now")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{VAutocomplete:d.a,VBtn:m.a,VCard:h.a,VCardTitle:v.d,VChip:f.a,VContainer:_.a,VDialog:w.a,VIcon:x.a,VListItemAction:k.a,VListItemContent:A.a,VListItemTitle:A.c,VTextField:V.a})}}]);