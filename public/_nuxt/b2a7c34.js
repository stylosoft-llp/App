(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{1094:function(t,e,r){"use strict";r.r(e);var n=r(510),o=r(219),c=r(124),f=r(566),v=r(511),h=r(520),l=(r(25),r(17)),d=(r(69),r(30),r(48),r(5),r(13),{props:["value","service_id"],data:function(){return{history:[]}},mounted:function(){this.fetchHistory()},filters:{properForm:function(t){return t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))}},methods:{fetchHistory:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/auth/services/".concat(t.service_id,"/history")).then(function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r.data.forEach(function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.changes&&n.push(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.history=n;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()},getAssignedUser:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.get("/auth/users/".concat(t)).then((function(t){return t.data.name}),(function(e){return t}));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}}}),m=d,_=r(26),component=Object(_.a)(m,(function(){var t=this,e=t._self._c;return e(f.a,{attrs:{value:t.value,"max-width":"400px"},on:{input:function(e){return t.$emit("input",e)}}},[e(o.a,[e(c.d,[t._v("Activity History")]),t._v(" "),e(c.c,t._l(t.history,(function(r,n){return e("div",{key:n},[e(v.a,{staticClass:"my-2"}),t._v(" "),e("p",{staticClass:"font-weight-bold"},[t._v(t._s(r.user&&r.user.name)+" ("+t._s(r.created_at)+")")]),t._v(" "),t._l(r.changes,(function(r,n){return e("tr",{key:n},[e("td",{staticClass:"font-weight-medium"},[t._v(t._s(t._f("properForm")(n))+"â€ƒ")]),t._v(" "),e("td",[t._v(t._s("expected_date"==n?t.$luxon(r):r))])])}))],2)})),0),t._v(" "),e(c.a,[e(h.a),t._v(" "),e(n.a,{attrs:{outlined:"",color:"primary"},on:{click:function(e){return t.$emit("input",!1)}}},[t._v("Close")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);