(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1041:function(t,e,r){"use strict";r.r(e);r(17),r(11),r(13),r(23),r(16),r(24);var o=r(3);r(6),r(32),r(34),r(28),r(55),r(33);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function n(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={components:{productForm:function(){return r.e(12).then(r.bind(null,1065))}},layout:"appDesktop",data:function(){return{product:Object(o.a)({name:"",s_desc:"",l_desc:"",status:"Active",installation:0,replacement:0},"status",""),loading:!1,cat_search:"",cats:[],productForm:[]}},watch:{cat_search:function(t){t?t.length>=3&&this.getCategories():this.getCategories()}},mounted:function(){this.$route.query.id&&this.fetchProduct()},methods:{getCategories:function(){var t=this;this.$axios.get("auth/categories/list?keyword="+this.cat_search).then((function(e){return t.cats=e.data})).catch((function(e){t.$toast.error("Failure Loading Categories")}))},addField:function(t){this.productForm&&this.productForm.push({field_name:t.field_name,field_type:t.field_type})},fetchProduct:function(){var t=this;this.$axios.get("auth/products/"+this.$route.query.id).then((function(e){t.product=e.data,t.productForm=null==e.data.form_template?[]:e.data.form_template}))},updateProduct:function(){var t=this,e=this.$route.query.id||null,r=this.product;r.form_template=this.productForm,this.$axios.put("auth/products/"+e,r).then((function(e){t.$toast.success("Product Saved",{icon:"mdi-check-circle"}),t.$route.query.id||t.$router.replace({query:n(n({},t.$route.query),{},{id:e.data.id})})}),(function(t){}))},addForm:function(t){this.$route.query.id?this.$router.push("/app/products/form?type=".concat(t,"&pid=").concat(this.$route.query.id)):this.$toast.show("You Must Save Product First Before Adding Form")}}},d=r(27),v=r(31),m=r.n(v),f=r(491),h=r(211),_=r(177),y=r(558),x=r(502),k=r(746),$=r(210),w=r(510),F=r(505),O=r(541),P=r(501),C=r(490),j=r(550),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:"","align-center":"","justify-center":"","fill-height":""}},[r("v-card",{attrs:{"max-width":"600",width:"100%"}},[r("v-card-text",[r("div",{staticClass:"d-flex flex-row my-2"},[r("v-btn",{attrs:{color:"primary",to:"/app/products",outlined:""}},[r("v-icon",[t._v("mdi-arrow-left")])],1),t._v(" "),r("v-spacer"),t._v(" "),r("h2",{staticClass:"black--text"},[t._v("Product Editor")])],1),t._v(" "),r("v-text-field",{attrs:{outlined:"",label:"Product Name"},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}}),t._v(" "),r("v-text-field",{attrs:{outlined:"",label:"Product Code"},model:{value:t.product.slug,callback:function(e){t.$set(t.product,"slug",e)},expression:"product.slug"}}),t._v(" "),r("v-combobox",{attrs:{outlined:"","search-input":t.cat_search,items:t.cats,label:"Product Category"},on:{"update:searchInput":function(e){t.cat_search=e},"update:search-input":function(e){t.cat_search=e}},model:{value:t.product.category,callback:function(e){t.$set(t.product,"category",e)},expression:"product.category"}}),t._v(" "),r("v-text-field",{attrs:{outlined:"",label:"Short Description"},model:{value:t.product.s_desc,callback:function(e){t.$set(t.product,"s_desc",e)},expression:"product.s_desc"}}),t._v(" "),r("v-select",{attrs:{outlined:"",items:["Active","Inactive"],label:"Product Status"},model:{value:t.product.status,callback:function(e){t.$set(t.product,"status",e)},expression:"product.status"}}),t._v(" "),r("v-textarea",{attrs:{rows:3,outlined:"",label:"Long Description"},model:{value:t.product.l_desc,callback:function(e){t.$set(t.product,"l_desc",e)},expression:"product.l_desc"}}),t._v(" "),r("v-row",[r("v-col",[r("v-checkbox",{staticClass:"mx-4",attrs:{"true-value":1,"false-value":0,label:"Installation"},model:{value:t.product.installation,callback:function(e){t.$set(t.product,"installation",e)},expression:"product.installation"}}),t._v(" "),t.product.installation?r("div",[t.product.installation_form?r("div",[r("v-btn",{attrs:{to:"/app/products/form?type=installation&pid="+t.product.id}},[t._v("\n                Edit Form")]),t._v(" "),r("v-btn",{attrs:{color:"error"}},[t._v("Delete")])],1):r("div",[r("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.addForm("installation")}}},[t._v("\n                Add Form")])],1)]):t._e()],1),t._v(" "),r("v-col",[r("v-checkbox",{staticClass:"mx-4",attrs:{"true-value":1,"false-value":0,label:"Replacement"},model:{value:t.product.replacement,callback:function(e){t.$set(t.product,"replacement",e)},expression:"product.replacement"}}),t._v(" "),t.product.replacement?r("div",[t.product.replacement_form?r("div",[r("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.addForm("replacement")}}},[t._v("\n                Edit Form")]),t._v(" "),r("v-btn",{attrs:{color:"error"}},[t._v("Delete")])],1):r("div",[r("v-btn",{attrs:{color:"secondary",to:"/app/products/form?type=replacement&pid="+t.product.id}},[t._v("\n                Add Form")])],1)]):t._e()],1),t._v(" "),r("v-col",[r("v-checkbox",{staticClass:"mx-4",attrs:{"true-value":1,"false-value":0,label:"Repair"},model:{value:t.product.repair,callback:function(e){t.$set(t.product,"repair",e)},expression:"product.repair"}}),t._v(" "),t.product.repair?r("div",[t.product.repair_form?r("div",[r("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.addForm("repair")}}},[t._v("\n                Edit Form")]),t._v(" "),r("v-btn",{attrs:{color:"error"}},[t._v("Delete")])],1):r("div",[r("v-btn",{attrs:{color:"secondary",to:"/app/products/form?type=repair&pid="+t.product.id}},[t._v("\n                Add Form")])],1)]):t._e()],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-btn",{staticClass:"spl-btn mx-auto",attrs:{color:"primary",large:"",loading:t.loading,type:"submit",block:""},on:{click:function(e){return t.updateProduct()}}},[t._v("Save Product")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:f.a,VCard:h.a,VCardActions:_.a,VCardText:_.c,VCheckbox:y.a,VCol:x.a,VCombobox:k.a,VIcon:$.a,VLayout:w.a,VRow:F.a,VSelect:O.a,VSpacer:P.a,VTextField:C.a,VTextarea:j.a})}}]);