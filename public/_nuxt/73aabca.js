(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1067:function(t,e,r){"use strict";r.r(e);var o=r(510),c=r(221),n=r(124),d=r(589),l=r(523),m=r(776),v=r(220),f=r(530),h=r(522),_=r(549),y=r(520),$=r(509),k=r(575),x=(r(25),r(15),r(10),r(14),r(21),r(13),r(22),r(3));r(5),r(33),r(35),r(30),r(49),r(32);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function F(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(x.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O={components:{productForm:function(){return r.e(17).then(r.bind(null,1093))}},layout:"appDesktop",data:function(){return{product:Object(x.a)({name:"",s_desc:"",l_desc:"",status:"Active",installation:0,replacement:0},"status",""),loading:!1,cat_search:"",cats:[],productForm:[]}},watch:{cat_search:function(t){t?t.length>=3&&this.getCategories():this.getCategories()}},mounted:function(){this.$route.query.id&&this.fetchProduct(),this.getCategories()},methods:{getCategories:function(){var t=this;this.$axios.get("auth/categories/list?keyword="+this.cat_search).then((function(e){return t.cats=e.data})).catch((function(e){t.$toast.error("Failure Loading Categories")}))},addField:function(t){this.productForm&&this.productForm.push({field_name:t.field_name,field_type:t.field_type})},fetchProduct:function(){var t=this;this.$axios.get("auth/products/"+this.$route.query.id).then((function(e){t.product=e.data,t.productForm=null==e.data.form_template?[]:e.data.form_template}))},updateProduct:function(){var t=this,e=this.$route.query.id||null,r=this.product;r.form_template=this.productForm,this.$axios.put("auth/products/"+e,r).then((function(e){t.$toast.success("Product Saved",{icon:"mdi-check-circle"}),t.$route.query.id||t.$router.replace({query:F(F({},t.$route.query),{},{id:e.data.id})})}),(function(t){}))},addForm:function(t){this.$route.query.id?this.$router.push("/app/products/form?type=".concat(t,"&pid=").concat(this.$route.query.id)):this.$toast.show("You Must Save Product First Before Adding Form")}}},P=r(26),component=Object(P.a)(O,(function(){var t=this,e=t._self._c;return e(f.a,{attrs:{column:"","align-center":"","justify-center":"","fill-height":""}},[e(c.a,{attrs:{"max-width":"600",width:"100%"}},[e(n.c,[e("div",{staticClass:"d-flex flex-row my-2"},[e(o.a,{attrs:{color:"primary",to:"/app/products",outlined:""}},[e(v.a,[t._v("mdi-arrow-left")])],1),t._v(" "),e(y.a),t._v(" "),e("h2",{staticClass:"black--text"},[t._v("Product Editor")])],1),t._v(" "),e($.a,{attrs:{outlined:"",label:"Product Name"},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}}),t._v(" "),e($.a,{attrs:{outlined:"",label:"Product Code"},model:{value:t.product.slug,callback:function(e){t.$set(t.product,"slug",e)},expression:"product.slug"}}),t._v(" "),e(m.a,{attrs:{outlined:"","search-input":t.cat_search,items:t.cats,label:"Product Category"},on:{"update:searchInput":function(e){t.cat_search=e},"update:search-input":function(e){t.cat_search=e}},model:{value:t.product.category,callback:function(e){t.$set(t.product,"category",e)},expression:"product.category"}}),t._v(" "),e($.a,{attrs:{outlined:"",label:"Short Description"},model:{value:t.product.s_desc,callback:function(e){t.$set(t.product,"s_desc",e)},expression:"product.s_desc"}}),t._v(" "),e(_.a,{attrs:{outlined:"",items:["Active","Inactive"],label:"Product Status"},model:{value:t.product.status,callback:function(e){t.$set(t.product,"status",e)},expression:"product.status"}}),t._v(" "),e(k.a,{attrs:{rows:3,outlined:"",label:"Long Description"},model:{value:t.product.l_desc,callback:function(e){t.$set(t.product,"l_desc",e)},expression:"product.l_desc"}}),t._v(" "),e(h.a,[e(l.a,[e(d.a,{staticClass:"mx-4",attrs:{"true-value":1,"false-value":0,label:"Installation"},model:{value:t.product.installation,callback:function(e){t.$set(t.product,"installation",e)},expression:"product.installation"}}),t._v(" "),t.product.installation?e("div",[t.product.installation_form?e("div",[e(o.a,{attrs:{to:"/app/products/form?type=installation&pid=".concat(t.product.id)}},[t._v("\n                Edit Form")]),t._v(" "),e(o.a,{attrs:{color:"error"}},[t._v("Delete")])],1):e("div",[e(o.a,{attrs:{color:"secondary"},on:{click:function(e){return t.addForm("installation")}}},[t._v("\n                Add/Edit Form")])],1)]):t._e()],1),t._v(" "),e(l.a,[e(d.a,{staticClass:"mx-4",attrs:{"true-value":1,"false-value":0,label:"Replacement"},model:{value:t.product.replacement,callback:function(e){t.$set(t.product,"replacement",e)},expression:"product.replacement"}}),t._v(" "),t.product.replacement?e("div",[t.product.replacement_form?e("div",[e(o.a,{attrs:{color:"secondary"},on:{click:function(e){return t.addForm("replacement")}}},[t._v("\n                Edit Form")]),t._v(" "),e(o.a,{attrs:{color:"error"}},[t._v("Delete")])],1):e("div",[e(o.a,{attrs:{color:"secondary",to:"/app/products/form?type=replacement&pid=".concat(t.product.id)}},[t._v("\n                Add/Edit Form")])],1)]):t._e()],1),t._v(" "),e(l.a,[e(d.a,{staticClass:"mx-4",attrs:{"true-value":1,"false-value":0,label:"Repair"},model:{value:t.product.repair,callback:function(e){t.$set(t.product,"repair",e)},expression:"product.repair"}}),t._v(" "),t.product.repair?e("div",[t.product.repair_form?e("div",[e(o.a,{attrs:{color:"secondary"},on:{click:function(e){return t.addForm("repair")}}},[t._v("\n                Edit Form")]),t._v(" "),e(o.a,{attrs:{color:"error"}},[t._v("Delete")])],1):e("div",[e(o.a,{attrs:{color:"secondary",to:"/app/products/form?type=repair&pid=".concat(t.product.id)}},[t._v("\n                Add/Edit Form")])],1)]):t._e()],1)],1)],1),t._v(" "),e(n.a,[e(o.a,{staticClass:"spl-btn mx-auto",attrs:{color:"primary",large:"",loading:t.loading,type:"submit",block:""},on:{click:function(e){return t.updateProduct()}}},[t._v("Save Product")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);